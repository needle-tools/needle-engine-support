import{_ as g}from"./logo-PPNoggWL.js";import{a as c,b as C,c as y,d as m,e as F,f as E,g as B,h as u,_ as b,i as f,j as D,k as A,l as x,m as v,n as _,o as N,p as w,q as W,r as j,s as P,t as z,u as T}from"./bugreporter-CL5einYg.js";import{_ as R}from"./texture-compression-BuEaeBZn.js";import{_ as L,c as S,e as t,b as a,a as s,w as n,d as e,r as p,o as I}from"./app-9T6lAodh.js";const M={};function O(V,i){const r=p("os-link"),k=p("ClientOnly"),d=p("needle-button"),o=p("NoDownloadYet"),h=p("video-embed"),l=p("RouteLink");return I(),S("div",null,[i[24]||(i[24]=t('<br><div class="centered" style="display:flex;align-items:center;gap:20px;font-size:2em;font-weight:100;"><img src="'+g+'" style="max-height:70px;" title="Needle Logo" alt="Needle Logo"> + <img src="'+C+'" style="max-height:70px;"></div><h1 id="blender-needle-engine" tabindex="-1"><a class="header-anchor" href="#blender-needle-engine"><span>适用于 Blender 的 Needle Engine</span></a></h1><p>适用于 Blender 的 Needle Engine 使您能够直接在 Blender 中创建高度交互、灵活且轻量级的 Web 应用程序。使用 Blender 强大的工具可视化设置 3D 场景、进行动画制作和设计。</p><h2 id="blender" tabindex="-1"><a class="header-anchor" href="#blender"><span>安装 Blender 插件</span></a></h2>',5)),a(k,null,{default:n(()=>[s("p",null,[i[1]||(i[1]=e("请确保已安装 ")),i[2]||(i[2]=s("a",{target:"_blank",href:"https://www.blender.org/download/"},[s("strong",null,"Blender"),e(" 4.1 或 4.2")],-1)),i[3]||(i[3]=e(" 和 ")),a(r,{windows_url:"https://nodejs.org/dist/v20.9.0/node-v20.9.0-x64.msi",osx_url:"https://nodejs.org/dist/v20.9.0/node-v20.9.0.pkg"},{default:n(()=>i[0]||(i[0]=[s("strong",null,"node.js",-1)])),_:1}),i[4]||(i[4]=e("。"))])]),_:1}),a(o,null,{default:n(()=>[a(d,{event_goal:"download_blender",event_position:"getting_started",large:"",href:"https://engine.needle.tools/downloads/blender?utm_source=needle_docs&utm_content=getting_started",same_tab:"",next_url:"/docs/blender/"},{default:n(()=>i[5]||(i[5]=[s("strong",null,"下载适用于 Blender 的 Needle Engine",-1)])),_:1})]),_:1}),i[25]||(i[25]=t('<ol><li><p>在 Blender 中，前往 <code>Edit &gt; Preferences &gt; Add-ons</code> 并点击下拉箭头找到 <code>Install from Disk</code> 按钮。</p></li><li><p>选择下载的 zip 文件（命名为 <code>needle-blender-plugin-*.zip</code>）进行安装。</p></li><li><p>在“插件”搜索栏中搜索“Needle”并确保 <code>Needle Engine Exporter for Blender</code> 已启用。</p></li></ol><p><img src="'+y+'" alt="Settings"></p><h2 id="" tabindex="-1"><a class="header-anchor" href="#"><span>入门指南</span></a></h2><p>感谢您使用适用于 Blender 的 Needle Engine。</p><p>通过此插件，您可以在 Blender 中创建高度交互且优化的 WebGL 和 WebXR 体验，这些体验使用 Needle Engine 和 three.js 运行。</p><p>您将能够对动画进行排序，轻松对场景进行光照烘焙，添加交互性，或创建自己的以 Typescript 或 Javascript 编写的脚本并在 Web 上运行。</p>',6)),a(h,{src:"/docs/blender/environment-light.mp4"}),i[26]||(i[26]=t('<p><em>在 Blender 和 Needle Engine 之间匹配灯光和环境设置。HDRI 环境光会自动从 Blender 直接导出。保存后，页面会自动重新加载。</em></p><div class="hint-container tip"><p class="hint-container-title">提供反馈</p><p><strong>您的反馈非常宝贵</strong>，对于我们决定优先开发哪些功能和工作流程至关重要。如果您对我们有任何反馈（无论好坏），请<a href="https://forum.needle.tools/?utm_source=needle_docs&amp;utm_content=content" target="_blank" rel="noopener noreferrer">在论坛中告知我们</a>！</p></div><h2 id="blender-1" tabindex="-1"><a class="header-anchor" href="#blender-1"><span>Blender 示例</span></a></h2><ul><li><a href="https://engine.needle.tools/downloads/blender/download-samples?utm_source=needle_docs&amp;utm_content=blender" target="_blank" rel="noopener noreferrer">下载 Blender 示例</a></li></ul><p>首先创建或打开一个新的 blend 文件，您希望将其导出到 Web。 打开“属性”窗口，然后打开“场景”类别。在 Needle Engine 面板中选择一个 <code>Project Path</code>。然后点击 <code>Generate Project</code>。它将自动安装并启动服务器 - 完成后，您的浏览器应该会打开并加载 threejs 场景。</p><p><img src="'+m+'" alt="Project panel"></p><p>默认情况下，当您保存 blend 文件时，您的场景将自动重新导出。 如果本地服务器正在运行（例如，点击 <code>Run Project</code>），网站将自动刷新您更改的模型。</p><p>当您的 Web 项目已存在并且您只想继续处理网站时 点击蓝色的 <code>Run Project</code> 按钮以启动本地服务器： <img src="'+F+'" alt="Project panel"></p><h3 id="-1" tabindex="-1"><a class="header-anchor" href="#-1"><span>项目面板概览</span></a></h3><p><img src="'+E+'" alt="Project panel"></p><ol><li>您的 Web 项目路径。您可以使用右侧的小文件夹按钮选择不同的路径。</li><li>当项目路径指向有效的 Web 项目时，该 <code>Run Project</code> 按钮显示。当包含 <code>package.json</code> 文件时，Web 项目有效</li><li><code>Directory</code> 打开 Web 项目目录（即 <code>Project Path</code>）</li><li>此按钮将当前场景作为 glb 重新导出到您的本地 Web 项目中。当您保存 blend 文件时，默认情况下也会发生这种情况。</li><li><code>Code Editor</code> 尝试在您的 Web 项目中打开 vscode 工作区</li><li>如果您在一个 blend 文件中处理多个场景，您可以配置哪个场景是您的主场景，并应导出到 Web。如果您的任何组件引用了另一个场景，它们也将作为单独的 glb 文件导出。点击“导出”按钮时，您的主场景将是浏览器中加载的场景。</li><li>当您想将 Web 项目上传到服务器时，使用 <code>Build: Development</code> 或 <code>Build: Production</code> 按钮。这将捆绑您的 Web 项目并生成您可以上传的文件。点击 <code>Build: Production</code> 时，它还将对您的纹理应用优化（它们将针对 Web 进行压缩）</li><li>打开文档</li></ol><h2 id="blender-2" tabindex="-1"><a class="header-anchor" href="#blender-2"><span>Blender 设置</span></a></h2><h3 id="-2" tabindex="-1"><a class="header-anchor" href="#-2"><span>颜色管理</span></a></h3><p>默认情况下，Blender 视口设置为 <code>Filmic</code> - 使用此设置，Blender 和 three.js 中的颜色将不匹配。 要解决此问题，请转到 Blender 渲染类别，并在“颜色管理”面板中选择 <code>View Transform</code>: <code>Standard</code></p><p><img src="'+B+'" alt="Correct color management settings"></p><h2 id="-3" tabindex="-1"><a class="header-anchor" href="#-3"><span>环境光照</span></a></h2><p>您可以使用视口着色选项更改环境光照和 skybox。 指定一个 cubemap 用于照明或背景 skybox。您可以调整强度或模糊来修改外观，使其符合您的喜好。</p><p>注意：要在浏览器中也看到 skybox cubemap，将 <code>World Opacity</code> 增加到 1。</p><p>注意：另外，您也可以在“视口着色”标签中启用 <code>Scene World</code> 设置，以使用 Blender 世界设置中指定的环境纹理。</p><p><img src="'+u+'" alt="Environment"></p>',20)),a(h,{limit_height:"",max_height:"300px",src:"/docs/blender/environment.mp4"}),i[27]||(i[27]=t('<p><em>在 Blender 和 Needle Engine 之间匹配灯光和环境设置。HDRI 环境光会自动从 Blender 直接导出。保存后，页面会自动重新加载。</em></p><p>另外，如果您不想将 cubemap 作为背景显示，请将 Camera 组件添加到您的 Blender 相机，并将 <code>clearFlags</code> 更改为 <code>SolidColor</code> - 请注意，相机 <code>backgroundBlurriness</code> 和 <code>backgroundIntensity</code> 设置会覆盖视口着色设置。</p><p><img src="'+b+'" alt="Environment Camera"></p><h3 id="hdri-exr-skybox" tabindex="-1"><a class="header-anchor" href="#hdri-exr-skybox"><span>添加自定义 HDRI / EXR 环境光照和 skybox</span></a></h3>',4)),a(h,{limit_height:"",src:"/docs/blender/custom_hdri.mp4"}),i[28]||(i[28]=t('<h2 id="-4" tabindex="-1"><a class="header-anchor" href="#-4"><span>导出</span></a></h2><p>要将对象排除在导出之外，您可以禁用视口和渲染显示（见下图）</p><p><img src="'+f+'" alt="Exclude from export"></p><h2 id="-5" tabindex="-1"><a class="header-anchor" href="#-5"><span>动画 🏇</span></a></h2><p>对于简单的用例，您可以使用 Animation 组件用于播放一个或多个 animationclips。 只需选择您的对象，添加一个 Animation 组件，并指定剪辑（您可以添加额外的剪辑导出到 clips 数组。 默认情况下，仅当 <code>playAutomatically</code> 启用时，才会播放指定给它的第一个剪辑。您可以使用简单的自定义 typescript 组件触发其他剪辑)</p>',5)),a(h,{limit_height:"",src:"/docs/blender/animation.mp4"}),i[29]||(i[29]=s("h3",{id:"animatorcontroller",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#animatorcontroller"},[s("span",null,"AnimatorController")])],-1)),i[30]||(i[30]=s("p",null,"Animator 控制器可用于更复杂的场景。它作为状态机工作，允许您在图中创建多个动画状态，并配置状态之间转换的条件和插值设置。",-1)),a(h,{src:"/docs/blender/animatorcontroller-web.mp4"}),i[31]||(i[31]=s("p",null,[s("em",null,[e("创建并导出 "),s("a",{href:"#animatorcontroller"},"animator statemachines"),e(" 用于控制复杂的角色动画")])],-1)),i[32]||(i[32]=s("h4",{id:"animatorcontroller-1",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#animatorcontroller-1"},[s("span",null,"创建 AnimatorController")])],-1)),i[33]||(i[33]=s("p",null,"可以使用每个面板左上角的 EditorType 下拉菜单打开 AnimatorController 编辑器：",-1)),i[34]||(i[34]=s("p",null,[s("img",{src:c,alt:"AnimatorController open window"})],-1)),a(h,{limit_height:"",max_height:"188px",src:"/docs/blender/animatorcontroller-create.mp4"}),i[35]||(i[35]=t('<p><em>创建一个新的 animator-controller 资产 ☝ 或从之前创建的资产中选择一个</em></p><h5 id="-6" tabindex="-1"><a class="header-anchor" href="#-6"><span>图表概览</span></a></h5><p><img src="'+D+'" alt="AnimatorController overview"></p><ol><li>使用 <code>Shift+A</code> 创建新的 AnimatorState</li><li>该 <code>Parameters</code> 节点在您添加第一个节点后创建。选择它以设置用于转换的参数（通过右侧边缘的“节点”面板）</li><li>这是一个 AnimatorState。橙色状态是开始状态（可以使用“节点/属性”面板中的 <code>Set default state</code> 按钮更改）</li><li>AnimatorState 的“属性”可用于设置一个或多个到其他状态的转换。使用 <code>Conditions</code> 数组选择必须与转换条件匹配的参数。</li></ol><h4 id="animatorcontroller-2" tabindex="-1"><a class="header-anchor" href="#animatorcontroller-2"><span>使用 AnimatorController</span></a></h4><p>要使用 AnimatorController，将 Animator 组件添加到您的动画根对象，并选择您希望用于此对象的 AnimatorController 资产。</p><p><img src="'+A+'" alt="AnimatorController assign to animator"></p><p>您可以从 typescript 或通过例如使用 Button 组件的事件来设置 Animator 参数</p><h3 id="nla" tabindex="-1"><a class="header-anchor" href="#nla"><span>时间轴 — NLA 轨道导出 🎬</span></a></h3><p>您可以将 Blender NLA 轨道直接导出到 Web。 添加一个 PlayableDirector 组件（通过 <code>Add Component</code>）到任何 Blender 对象。在该组件的 <code>animation tracks</code> 列表中指定您希望为其导出 NLA 轨道的对象。</p><p><img src="'+x+'" alt=""><img src="'+v+`" alt=""></p><details class="hint-container details"><summary>交互式时间轴播放的代码示例</summary><p>将此脚本添加到 <code>src/scripts</code>（参见自定义组件部分），并将其添加到 Blender 中的任何对象，以通过浏览器中的滚动来控制时间轴的时间</p><div class="language-ts" data-highlighter="shiki" data-ext="ts" style="--shiki-light:#4c4f69;--shiki-dark:#c6d0f5;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#303446;"><pre class="shiki shiki-themes catppuccin-latte catppuccin-frappe vp-code"><code><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;">import</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;"> {</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;"> Behaviour</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;"> PlayableDirector</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;"> serializable</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;"> Mathf </span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">}</span><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;"> from</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6D189;"> &quot;@needle-tools/engine&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;">export</span><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#E5C890;--shiki-dark-font-style:italic;"> ScrollTimeline</span><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#E5C890;--shiki-dark-font-style:italic;"> Behaviour</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#8CAAEE;--shiki-dark-font-style:italic;">    @serializable</span><span style="--shiki-light:#FE640B;--shiki-dark:#EF9F76;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">PlayableDirector</span><span style="--shiki-light:#FE640B;--shiki-dark:#EF9F76;">)</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">    timeline</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">?:</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#E5C890;--shiki-dark-font-style:italic;"> PlayableDirector</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#8CAAEE;--shiki-dark-font-style:italic;">    @serializable</span><span style="--shiki-light:#FE640B;--shiki-dark:#EF9F76;">()</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">    sensitivity</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;"> number</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;"> =</span><span style="--shiki-light:#FE640B;--shiki-dark:#EF9F76;"> .5</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#8CAAEE;--shiki-dark-font-style:italic;">    @serializable</span><span style="--shiki-light:#FE640B;--shiki-dark:#EF9F76;">()</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">    clamp</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;"> boolean</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;"> =</span><span style="--shiki-light:#FE640B;--shiki-dark:#EF9F76;"> false</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;">    private</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;"> _targetTime</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;"> number</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;"> =</span><span style="--shiki-light:#FE640B;--shiki-dark:#EF9F76;"> 0</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#8CAAEE;--shiki-dark-font-style:italic;">    awake</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#E78284;">        this</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">context</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">domElement</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#8CAAEE;--shiki-dark-font-style:italic;">addEventListener</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6D189;">&quot;wheel&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">,</span><span style="--shiki-light:#D20F39;--shiki-dark:#E78284;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">onWheel)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;">        if</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;"> (</span><span style="--shiki-light:#D20F39;--shiki-dark:#E78284;">this</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">timeline) </span><span style="--shiki-light:#D20F39;--shiki-dark:#E78284;">this</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">timeline</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#8CAAEE;--shiki-dark-font-style:italic;">pause</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;">    private</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#8CAAEE;--shiki-dark-font-style:italic;"> onWheel</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;"> =</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;"> (</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#EA999C;--shiki-dark-font-style:italic;">e</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">:</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#E5C890;--shiki-dark-font-style:italic;"> WheelEvent</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">)</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;"> =&gt;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;">        if</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;"> (</span><span style="--shiki-light:#D20F39;--shiki-dark:#E78284;">this</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">timeline) </span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">{</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#E78284;">            this</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">_targetTime </span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">=</span><span style="--shiki-light:#D20F39;--shiki-dark:#E78284;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">timeline</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">time </span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">+</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;"> e</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">deltaY </span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">*</span><span style="--shiki-light:#FE640B;--shiki-dark:#EF9F76;"> 0.01</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;"> *</span><span style="--shiki-light:#D20F39;--shiki-dark:#E78284;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">sensitivity</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;">            if</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;"> (</span><span style="--shiki-light:#D20F39;--shiki-dark:#E78284;">this</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">clamp) </span><span style="--shiki-light:#D20F39;--shiki-dark:#E78284;">this</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">_targetTime </span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;"> Mathf</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#8CAAEE;--shiki-dark-font-style:italic;">clamp</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#E78284;">this</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">_targetTime</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#EF9F76;"> 0</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">,</span><span style="--shiki-light:#D20F39;--shiki-dark:#E78284;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">timeline</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">duration)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">        }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#8CAAEE;--shiki-dark-font-style:italic;">    update</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">()</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;">        if</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;"> (</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">!</span><span style="--shiki-light:#D20F39;--shiki-dark:#E78284;">this</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">timeline) </span><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;">return</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;">        const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;"> time </span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;"> Mathf</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#8CAAEE;--shiki-dark-font-style:italic;">lerp</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#E78284;">this</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">timeline</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">time</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">,</span><span style="--shiki-light:#D20F39;--shiki-dark:#E78284;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">_targetTime</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">,</span><span style="--shiki-light:#D20F39;--shiki-dark:#E78284;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">context</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">time</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">deltaTime </span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">/</span><span style="--shiki-light:#FE640B;--shiki-dark:#EF9F76;"> .3</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#E78284;">        this</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">timeline</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">time </span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;"> time</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#E78284;">        this</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">timeline</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#8CAAEE;--shiki-dark-font-style:italic;">pause</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#E78284;">        this</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">timeline</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#8CAAEE;--shiki-dark-font-style:italic;">evaluate</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">}</span></span></code></pre></div></details><h2 id="-7" tabindex="-1"><a class="header-anchor" href="#-7"><span>交互性 😎</span></a></h2><p>您可以使用 Needle Components 面板添加或移除组件到层次结构中的对象：</p><p><img src="`+_+'" alt="Component panel"></p><p><img src="'+N+'" alt="Component panel"><em>例如，通过将 <code>OrbitControls</code> 组件添加到相机对象</em><em>您将获得适用于移动和桌面设备的基本相机控制</em><em>在各自的面板中调整每个组件的设置</em></p><p>可以使用右下角的 X 按钮移除组件：</p><p><img src="'+w+'" alt="Remove component"></p><h3 id="-8" tabindex="-1"><a class="header-anchor" href="#-8"><span>自定义组件</span></a></h3><p>只需编写 Typescript 类，也可以轻松添加自定义组件。保存后，它们将自动编译并显示在 Blender 中。</p><p>要创建自定义组件，通过 Needle Project 面板打开工作区，并在您的 Web 项目中的 <code>src/scripts</code> 内添加一个 <code>.ts</code> 脚本文件。请参阅<a href="http://docs.needle.tools/scripting" target="_blank" rel="noopener noreferrer">脚本文档</a>了解如何为 Needle Engine 编写自定义组件。</p><div class="hint-container warning"><p class="hint-container-title">Note</p><p>请确保 <code>@needle-tools/needle-component-compiler</code> 2.x 已安装在您的 Web 项目中 (package.json devDependencies)</p></div><h2 id="-9" tabindex="-1"><a class="header-anchor" href="#-9"><span>光照烘焙 💡</span></a></h2><p>Needle 包含一个光照烘焙插件，使您可以非常轻松地将漂亮的光照烘焙到纹理并将其带到 Web。该插件将自动生成光照贴图 UV，对于所有标记为需要进行光照烘焙的模型，无需手动制作纹理图集。它还支持对具有自己光照贴图数据的多个实例进行光照烘焙。 为了使光照烘焙工作，您需要至少一个光源和在 <code>Needle Object</code> 面板中打开 <code>Lightmapped</code> 的一个对象。</p>',24)),a(h,{limit_height:"",max_height:"800px",src:"/docs/blender/lightmapping.mp4"}),i[36]||(i[36]=t('<div class="hint-container tip"><p class="hint-container-title">提示</p><p>您可以<a href="https://engine.needle.tools/downloads/blender/lightmaps.blend" target="_blank" rel="noopener noreferrer">在此处</a>下载视频中的 .blend 文件。</p></div><p>使用 Needle Object 面板启用网格对象或光源的光照烘焙：</p><p><img src="'+W+'" alt="Lightmapping object"></p><p>为了快速访问光照贴图设置和烘焙选项，您可以使用 <code>Needle</code> 选项卡中的场景视图面板：</p><p><img src="'+j+'" alt="Lightmapping scene panel"></p><p>另外，您也可以在 <code>Render Properties</code> 选项卡中使用光照烘焙面板：</p><p><img src="'+P+'" alt="Lightmapping object"></p><div class="hint-container warning"><p class="hint-container-title">Experimental Feature</p><p>光照烘焙插件是实验性的。建议在使用时备份 .blend 文件。请将您遇到的问题或错误报告到<a href="https://forum.needle.tools/?utm_source=needle_docs&amp;utm_content=content" target="_blank" rel="noopener noreferrer">我们的论坛</a> 🙏</p></div><h2 id="-10" tabindex="-1"><a class="header-anchor" href="#-10"><span>纹理压缩</span></a></h2>',9)),s("p",null,[i[9]||(i[9]=e("Needle Engine 构建管线在进行生产构建时会自动使用 ECT1S 和 UASTC 压缩纹理（取决于它们在材质中的使用方式）（")),s("strong",null,[i[7]||(i[7]=e("需要 ")),a(l,{to:"/lang/zh/getting-started/#install-these-tools-for-production-builds"},{default:n(()=>i[6]||(i[6]=[e("toktx")])),_:1}),i[8]||(i[8]=e(" 安装"))]),i[10]||(i[10]=e("）。但您可以在“材质”面板中覆盖或更改每张纹理的压缩类型。"))]),s("p",null,[i[12]||(i[12]=e("您可以修改每张纹理应用的压缩。要覆盖默认压缩设置，请前往 ")),i[13]||(i[13]=s("code",null,"Material",-1)),i[14]||(i[14]=e(" 选项卡并打开 ")),i[15]||(i[15]=s("code",null,"Needle Material Settings",-1)),i[16]||(i[16]=e("。在那里您会找到一个开关，用于覆盖您材质中使用的每张纹理的纹理设置。请参阅")),a(l,{to:"/lang/zh/deployment.html#how-do-i-choose-between-etc1s-uastc-and-webp-compression"},{default:n(()=>i[11]||(i[11]=[e("纹理压缩表")])),_:1}),i[17]||(i[17]=e("以简要了解各种压缩算法之间的差异。"))]),i[37]||(i[37]=t('<p><img src="'+R+'" alt="Texture Compression options in Blender"></p><h2 id="-11" tabindex="-1"><a class="header-anchor" href="#-11"><span>更新</span></a></h2><p>Needle Project 面板中的灯泡会通知您当插件有新版本可用时。 只需点击该图标下载新版本。 <img src="'+z+'" alt="Update notification"></p><h2 id="-12" tabindex="-1"><a class="header-anchor" href="#-12"><span>报告问题</span></a></h2><p>如果您遇到任何问题，我们非常乐意提供帮助！请加入<a href="https://forum.needle.tools/?utm_source=needle_docs&amp;utm_content=content" target="_blank" rel="noopener noreferrer">我们的论坛</a>以获得快速支持。</p><p>也请检查 Blender 中的日志。您可以通过 Blender 中的 <code>Help/Needle</code> 找到 Needle Engine 插件的特定日志。</p><h3 id="-13" tabindex="-1"><a class="header-anchor" href="#-13"><span>集成错误报告工具</span></a></h3><p><img src="'+T+'" alt="Needle Blender Bug Reporter panel"> 您还可以直接从 Blender 自动创建并上传错误报告。上传的错误报告将仅用于调试。它们在我们的后端是加密的，并将在 30 天后删除。</p><p>如有需要，在某些情况下，我们也可以为您的项目设置定制的 NDA。请联系我们获取更多信息。</p><div class="hint-container tip"><p class="hint-container-title">使用错误报告工具需要 Web 项目</p><p>在发送错误报告之前，请确保您已设置 Web 项目——这将有助于我们更好地了解您的系统和设置，并使重现问题变得更容易。</p></div><h1 id="-14" tabindex="-1"><a class="header-anchor" href="#-14"><span>下一步</span></a></h1>',11)),s("ul",null,[s("li",null,[a(l,{to:"/lang/zh/project-structure.html"},{default:n(()=>i[18]||(i[18]=[e("概念：Web 项目")])),_:1})]),s("li",null,[a(l,{to:"/lang/zh/export.html"},{default:n(()=>i[19]||(i[19]=[e("概念：导出资产")])),_:1})]),s("li",null,[a(l,{to:"/lang/zh/deployment.html"},{default:n(()=>i[20]||(i[20]=[e("概念：部署（分享您的网站）")])),_:1})]),s("li",null,[a(l,{to:"/lang/zh/everywhere-actions.html"},{default:n(()=>i[21]||(i[21]=[e("组件：了解 Everywhere Actions")])),_:1})]),s("li",null,[a(l,{to:"/lang/zh/getting-started/typescript-essentials.html"},{default:n(()=>i[22]||(i[22]=[e("初学者脚本：Typescript 要点")])),_:1})]),s("li",null,[a(l,{to:"/lang/zh/scripting.html"},{default:n(()=>i[23]||(i[23]=[e("初学者脚本：如何编写自定义组件")])),_:1})])]),i[38]||(i[38]=s("p",null,"页面由 AI 自动翻译",-1))])}const Y=L(M,[["render",O]]),G=JSON.parse('{"path":"/lang/zh/blender/","title":"Needle Engine for Blender","lang":"zh-CN","frontmatter":{"title":"Needle Engine for Blender","editLink":true,"head":[["meta",{"name":"og:image","content":"https://engine.needle.tools/docs/preview.jpeg"}],["meta",{"name":"og:description","content":"---"}]],"description":"---"},"headers":[{"level":2,"title":"安装 Blender 插件","slug":"blender","link":"#blender","children":[]},{"level":2,"title":"入门指南","slug":"","link":"#","children":[]},{"level":2,"title":"Blender 示例","slug":"blender-1","link":"#blender-1","children":[{"level":3,"title":"项目面板概览","slug":"-1","link":"#-1","children":[]}]},{"level":2,"title":"Blender 设置","slug":"blender-2","link":"#blender-2","children":[{"level":3,"title":"颜色管理","slug":"-2","link":"#-2","children":[]}]},{"level":2,"title":"环境光照","slug":"-3","link":"#-3","children":[{"level":3,"title":"添加自定义 HDRI / EXR 环境光照和 skybox","slug":"hdri-exr-skybox","link":"#hdri-exr-skybox","children":[]}]},{"level":2,"title":"导出","slug":"-4","link":"#-4","children":[]},{"level":2,"title":"动画 🏇","slug":"-5","link":"#-5","children":[{"level":3,"title":"AnimatorController","slug":"animatorcontroller","link":"#animatorcontroller","children":[]},{"level":3,"title":"时间轴 — NLA 轨道导出 🎬","slug":"nla","link":"#nla","children":[]}]},{"level":2,"title":"交互性 😎","slug":"-7","link":"#-7","children":[{"level":3,"title":"自定义组件","slug":"-8","link":"#-8","children":[]}]},{"level":2,"title":"光照烘焙 💡","slug":"-9","link":"#-9","children":[]},{"level":2,"title":"纹理压缩","slug":"-10","link":"#-10","children":[]},{"level":2,"title":"更新","slug":"-11","link":"#-11","children":[]},{"level":2,"title":"报告问题","slug":"-12","link":"#-12","children":[{"level":3,"title":"集成错误报告工具","slug":"-13","link":"#-13","children":[]}]}],"git":{"updatedTime":1745311490000,"contributors":[{"name":"Marcel Wiessler","username":"","email":"marcel@gaisterhand.de","commits":1}],"changelog":[{"hash":"25e22e2b0b9e4fc1e515be2b189c24864e21ac9f","time":1745311490000,"email":"marcel@gaisterhand.de","author":"Marcel Wiessler","message":"add multilanguage support"}]},"filePathRelative":"lang/zh/blender/index.md"}');export{Y as comp,G as data};
