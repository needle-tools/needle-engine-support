import{_ as r}from"./unity-needle-engine-modules-physics-De-OMij1.js";import{_ as p}from"./custom-loading-style-s1K1my2z.js";import{_ as o,c as d,e as l,a as s,d as i,b as t,w as a,r as h,o as u}from"./app-9T6lAodh.js";const k={},c={class:"hint-container tip"};function g(m,e){const n=h("RouteLink");return u(),d("div",null,[e[22]||(e[22]=l('<h2 id="bundling-et-frontends-web" tabindex="-1"><a class="header-anchor" href="#bundling-et-frontends-web"><span>Bundling et frontends web</span></a></h2><p>Needle Engine est conçu comme un composant web. Cela signifie simplement installer <code>@needle-tools/engine</code> dans votre projet et inclure <code>&lt;needle-engine src=&quot;path/to/your.glb&quot;&gt;</code> n&#39;importe où dans votre projet web.</p><ul><li>Installation avec npm: <code>npm i @needle-tools/engine</code></li></ul><p>Avec notre modèle de projet par défaut basé sur Vite, Needle Engine est regroupé (bundled) en une application web lors du déploiement. Cela garantit des fichiers plus petits, le tree-shaking (similaire au code stripping dans Unity) et optimise les temps de chargement. Au lieu de télécharger de nombreux petits scripts et composants, seul un ou quelques-uns sont téléchargés, contenant le code minimal nécessaire.</p><p>Vite (notre bundler par défaut) offre une bonne explication expliquant pourquoi les applications web devraient être regroupées (bundled) : <a href="https://vitejs.dev/guide/why.html" target="_blank" rel="noopener noreferrer">Why Bundle for Production</a></p><h3 id="vite-vue-react-svelte-react-three-fiber..." tabindex="-1"><a class="header-anchor" href="#vite-vue-react-svelte-react-three-fiber..."><span>Vite, Vue, React, Svelte, React Three Fiber...</span></a></h3><p>Needle Engine n&#39;a pas de préférence quant au choix du framework. Notre modèle par défaut utilise le populaire <a href="https://vitejs.dev" target="_blank" rel="noopener noreferrer">vite</a> comme bundler. À partir de là, vous pouvez ajouter vue, svelte, nuxt, react, react-three-fiber ou d&#39;autres frameworks, et nous avons des exemples pour beaucoup d&#39;entre eux. Vous pouvez également intégrer d&#39;autres bundlers, ou n&#39;en utiliser aucun – juste du HTML et Javascript simples.</p><p>Voici quelques exemples de piles technologiques possibles avec lesquelles nous utilisons Needle Engine :</p>',8)),s("ul",null,[e[3]||(e[3]=l('<li><p><strong>Vite + HTML</strong> — C&#39;est ce que notre modèle par défaut utilise !</p></li><li><p><strong>Vite + Vue</strong> — C&#39;est ce que le site web <a href="https://needle.tools" target="_blank" rel="noopener noreferrer">Needle Tools</a> utilise ! Trouvez un exemple à télécharger <a href="https://github.com/needle-tools/needle-engine-samples" target="_blank" rel="noopener noreferrer">ici</a>.</p></li><li><p><strong>Vite + Svelte</strong></p></li><li><p><strong>Vite + SvelteKit</strong></p></li><li><p><strong>Vite + React</strong> — Il existe un modèle expérimental inclus avec l&#39;intégration Unity pour cela que vous pouvez choisir lors de la génération d&#39;un projet !</p></li><li><p><strong>react-three-fiber</strong> — Il existe un modèle expérimental inclus avec l&#39;intégration Unity pour cela que vous pouvez choisir lors de la génération d&#39;un projet !</p></li><li><p><strong>Vercel &amp; Nextjs</strong> — Trouvez un <a href="https://github.com/needle-engine/nextjs-sample" target="_blank" rel="noopener noreferrer">exemple de projet nextjs ici</a></p></li>',7)),s("li",null,[s("p",null,[e[1]||(e[1]=s("strong",null,"CDN sans aucun bundler",-1)),e[2]||(e[2]=i(" — Trouvez un exemple de code ")),t(n,{to:"/lang/fr/vanilla-js.html"},{default:a(()=>e[0]||(e[0]=[i("ici")])),_:1})])])]),e[23]||(e[23]=s("p",null,"En bref : nous proposons actuellement un modèle vite minimal, mais vous pouvez l'étendre ou passer à d'autres frameworks – Faites-nous savoir ce que vous construisez et comment, et comment nous pouvons améliorer l'expérience pour votre cas d'utilisation ou fournir un exemple !",-1)),s("div",c,[e[11]||(e[11]=s("p",{class:"hint-container-title"},"Conseil",-1)),s("p",null,[e[5]||(e[5]=i("Certains frameworks nécessitent des paramètres personnalisés dans ")),e[6]||(e[6]=s("code",null,"needle.config.json",-1)),e[7]||(e[7]=i(". Apprenez-en davantage ")),t(n,{to:"/lang/fr/reference/needle-config-json.html"},{default:a(()=>e[4]||(e[4]=[i("ici")])),_:1}),e[8]||(e[8]=i(". Typiquement, la ")),e[9]||(e[9]=s("code",null,"baseUrl",-1)),e[10]||(e[10]=i(" doit être définie."))])]),e[24]||(e[24]=l(`<details class="hint-container details"><summary>Comment créer un modèle de projet personnalisé dans Unity ?</summary><p>Vous pouvez créer et partager vos propres modèles de projet web pour utiliser d&#39;autres bundlers, systèmes de build, ou aucun du tout.</p><p><strong>Créer un nouveau Modèle</strong></p><ol><li>Sélectionnez <code>Create/Needle Engine/Project Template</code> pour ajouter un ProjectTemplate dans le dossier que vous souhaitez utiliser comme modèle</li><li>Terminé ! C&#39;est aussi simple que ça.</li></ol><p>Les dépendances proviennent d&#39;Unity lorsqu&#39;il y a un NpmDef dans le projet (donc lorsque votre projet utilise des références locales). Vous pourriez également publier vos packages sur npm et y faire référence via un numéro de version.</p></details><h3 id="tree-shaking-pour-r-duire-la-taille-du-bundle" tabindex="-1"><a class="header-anchor" href="#tree-shaking-pour-r-duire-la-taille-du-bundle"><span>Tree-shaking pour réduire la taille du bundle</span></a></h3><p>Le Tree shaking fait référence à une pratique courante en matière de regroupement (bundling) d&#39;applications web (<a href="https://developer.mozilla.org/en-US/docs/Glossary/Tree_shaking" target="_blank" rel="noopener noreferrer">voir documentation MSDN</a>). Cela signifie que les chemins de code et les fonctionnalités qui ne sont pas utilisés dans votre code seront supprimés des fichiers javascript finaux regroupés (bundled) afin de réduire la taille des fichiers. Voir ci-dessous les fonctionnalités que Needle Engine inclut et comment les supprimer :</p><details class="hint-container details"><summary>Comment supprimer le moteur physique Rapier ? (Réduit la taille globale du bundle en supprimant ~2Mo (~600Ko une fois compressé avec gzip))</summary><ul><li><p><strong>Option 1</strong>: via la configuration needlePlugins : Définissez <code>useRapier</code> sur <code>false</code> dans votre vite.config : <code>needlePlugins(command, needleConfig, { useRapier: false }),</code></p></li><li><p><strong>Option 2</strong>: via la configuration vite.define : Déclarez la définition <code>NEEDLE_USE_RAPIER</code> avec <code>false</code></p><div class="language-js" data-highlighter="shiki" data-ext="js" style="--shiki-light:#4c4f69;--shiki-dark:#c6d0f5;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#303446;"><pre class="shiki shiki-themes catppuccin-latte catppuccin-frappe vp-code"><code><span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">define</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">:</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">  NEEDLE_USE_RAPIER</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">:</span><span style="--shiki-light:#FE640B;--shiki-dark:#EF9F76;"> false</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">},</span></span></code></pre></div></li><li><p><strong>Option 3</strong>: via .env Créez un fichier <code>.env</code> dans votre projet web et ajoutez <code>VITE_NEEDLE_USE_RAPIER=false</code></p></li><li><p><strong>Option 4</strong>: via le composant Unity Ajoutez le composant <code>Needle Engine Modules</code> à votre scène et définissez <code>Physics Engine</code> sur <code>None</code><img src="`+r+`" alt=""></p></li></ul></details><h2 id="cr-er-une-pwa" tabindex="-1"><a class="header-anchor" href="#cr-er-une-pwa"><span>Créer une PWA</span></a></h2><p>Nous prenons en charge la création aisée d&#39;une Progressive Web App (PWA) directement à partir de notre modèle vite. Les PWAs sont des applications web qui se chargent comme des pages web ou des sites web ordinaires, mais peuvent offrir des fonctionnalités utilisateur telles que le travail hors ligne, les notifications push et l&#39;accès au matériel de l&#39;appareil, traditionnellement disponibles uniquement pour les applications mobiles natives.</p><p>Par défaut, les PWAs créées avec Needle prennent en charge le mode hors ligne et peuvent éventuellement se rafraîchir automatiquement lorsque vous publiez une nouvelle version de votre application.</p><ol><li>Installez le <a href="https://vite-pwa-org.netlify.app/" target="_blank" rel="noopener noreferrer">plugin Vite PWA</a> dans votre projet web : <code>npm install vite-plugin-pwa --save-dev</code></li><li>Modifiez <code>vite.config.js</code> comme indiqué ci-dessous. Assurez-vous de passer le même objet <code>pwaOptions</code> à la fois à <code>needlePlugins</code> et à <code>VitePWA</code>.</li></ol><div class="language-js" data-highlighter="shiki" data-ext="js" style="--shiki-light:#4c4f69;--shiki-dark:#c6d0f5;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#303446;"><pre class="shiki shiki-themes catppuccin-latte catppuccin-frappe vp-code"><code><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;">import</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;"> {</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;"> VitePWA </span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">}</span><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;"> from</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6D189;"> &#39;vite-plugin-pwa&#39;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;">export</span><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;"> default</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#8CAAEE;--shiki-dark-font-style:italic;"> defineConfig</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;">async</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;"> ({</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#EA999C;--shiki-dark-font-style:italic;"> command</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;"> })</span><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;"> =&gt;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#949CBB;--shiki-dark-font-style:italic;">    // Create the pwaOptions object.</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#949CBB;--shiki-dark-font-style:italic;">    // You can edit or enter PWA settings here (e.g. change the PWA name or add icons).</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#949CBB;--shiki-dark-font-style:italic;">    // Créez l&#39;objet pwaOptions.</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#949CBB;--shiki-dark-font-style:italic;">    // Vous pouvez modifier ou saisir les paramètres PWA ici (par exemple, changer le nom de la PWA ou ajouter des icônes).</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#949CBB;--shiki-dark-font-style:italic;">    /** </span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">@</span><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;">type</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;"> {</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#E5C890;--shiki-dark-font-style:italic;">import(&quot;vite-plugin-pwa&quot;).VitePWAOptions</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">}</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#949CBB;--shiki-dark-font-style:italic;"> */</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;">    const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;"> pwaOptions </span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">=</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;"> {};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;">    const</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;"> {</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;"> needlePlugins </span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">}</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;"> await</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;"> import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6D189;">&quot;@needle-tools/engine/plugins/vite/index.js&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;">    return</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">        plugins</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">:</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;"> [</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#949CBB;--shiki-dark-font-style:italic;">            // pass the pwaOptions object to the needlePlugins and the VitePWA function</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#949CBB;--shiki-dark-font-style:italic;">            // passez l&#39;objet pwaOptions aux fonctions needlePlugins et VitePWA</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#8CAAEE;--shiki-dark-font-style:italic;">            needlePlugins</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#EA999C;">command</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#EA999C;"> needleConfig</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">,</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;"> {</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;"> pwa</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">:</span><span style="--shiki-light:#E64553;--shiki-dark:#EA999C;"> pwaOptions</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;"> }</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">,</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#8CAAEE;--shiki-dark-font-style:italic;">            VitePWA</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#EA999C;">pwaOptions</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">        ]</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#949CBB;--shiki-dark-font-style:italic;">        // the rest of your vite config...</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#949CBB;--shiki-dark-font-style:italic;">        // le reste de votre configuration vite...</span></span></code></pre></div><div class="hint-container tip"><p class="hint-container-title">Tous les assets sont mis en cache par défaut</p><p>Notez que par défaut, tous les assets de votre dossier de build sont ajoutés au pré-cache de la PWA – pour les grandes applications avec de nombreux assets dynamiques, ce n&#39;est peut-être pas ce que vous souhaitez (imaginez la PWA YouTube mettant en cache toutes les vidéos une fois qu&#39;un utilisateur ouvre l&#39;application !). Voir <a href="#more-pwa-options">Plus d&#39;options PWA</a> pour savoir comment personnaliser ce comportement.</p></div><h3 id="tester-les-pwas" tabindex="-1"><a class="header-anchor" href="#tester-les-pwas"><span>Tester les PWAs</span></a></h3><p>Pour tester votre PWA, déployez la page, par exemple en utilisant le composant <code>DeployToFTP</code>. Ensuite, ouvrez la page déployée dans un navigateur et vérifiez si les fonctionnalités PWA fonctionnent comme prévu :</p><ul><li>l&#39;application apparaît comme installable</li><li>l&#39;application fonctionne hors ligne</li><li>l&#39;application est détectée comme PWA capable de fonctionner hors ligne par <a href="https://pwabuilder.com/" target="_blank" rel="noopener noreferrer">pwabuilder.com</a></li></ul><p>Les PWAs utilisent des Service Workers pour mettre en cache les ressources et fournir un support hors ligne. Les Service Workers sont un peu plus difficiles à utiliser pendant le développement, et ne sont généralement activés que pour les builds (par exemple, lorsque vous utilisez un composant <code>DeployTo...</code>).</p><p>Vous pouvez activer le support PWA pour le développement en ajoutant ce qui suit à l&#39;objet options dans votre <code>vite.config.js</code>.</p><div class="language-js" data-highlighter="shiki" data-ext="js" style="--shiki-light:#4c4f69;--shiki-dark:#c6d0f5;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#303446;"><pre class="shiki shiki-themes catppuccin-latte catppuccin-frappe vp-code"><code><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;">const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;"> pwaOptions </span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">=</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;"> {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#949CBB;--shiki-dark-font-style:italic;">  // Note: PWAs behave different in dev mode.</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#949CBB;--shiki-dark-font-style:italic;">  // Make sure to verify the behaviour in production builds!</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#949CBB;--shiki-dark-font-style:italic;">  // Note : Les PWAs se comportent différemment en mode développement.</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#949CBB;--shiki-dark-font-style:italic;">  // Assurez-vous de vérifier le comportement dans les builds de production !</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">  devOptions</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">:</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">    enabled</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">:</span><span style="--shiki-light:#FE640B;--shiki-dark:#EF9F76;"> true</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">  }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">};</span></span></code></pre></div><p>Veuillez noter que les PWAs en mode développement ne prennent pas en charge l&#39;utilisation hors ligne – essayer pourrait entraîner un comportement inattendu.</p><h3 id="mettre-jour-automatiquement-les-applications-en-cours-d-ex-cution" tabindex="-1"><a class="header-anchor" href="#mettre-jour-automatiquement-les-applications-en-cours-d-ex-cution"><span>Mettre à jour automatiquement les applications en cours d&#39;exécution</span></a></h3><p>Les sites web affichent généralement du contenu nouveau ou mis à jour lors d&#39;un rafraîchissement de page.</p><p>Dans certaines situations, vous pourriez vouloir que la page se rafraîchisse et se recharge automatiquement lorsqu&#39;une nouvelle version a été publiée – comme dans un musée, un salon professionnel, un affichage public, ou d&#39;autres scénarios de longue durée.</p><p>Pour activer les mises à jour automatiques, définissez la propriété <code>updateInterval</code> dans l&#39;objet pwaOptions sur une durée (en millisecondes) pendant laquelle l&#39;application doit vérifier les mises à jour. Si une mise à jour est détectée, la page se rechargera automatiquement.</p><div class="language-js" data-highlighter="shiki" data-ext="js" style="--shiki-light:#4c4f69;--shiki-dark:#c6d0f5;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#303446;"><pre class="shiki shiki-themes catppuccin-latte catppuccin-frappe vp-code"><code><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;">const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;"> pwaOptions </span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">=</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">  updateInterval</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">:</span><span style="--shiki-light:#FE640B;--shiki-dark:#EF9F76;"> 15</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;"> *</span><span style="--shiki-light:#FE640B;--shiki-dark:#EF9F76;"> 60</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;"> *</span><span style="--shiki-light:#FE640B;--shiki-dark:#EF9F76;"> 1000</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">,</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#949CBB;--shiki-dark-font-style:italic;"> // 15 minutes, en millisecondes</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">};</span></span></code></pre></div><div class="hint-container tip"><p class="hint-container-title">Rechargements Périodiques et Données Utilisateur</p><p>Il n&#39;est pas recommandé d&#39;utiliser les rechargements automatiques dans les applications où les utilisateurs interagissent avec des formulaires ou d&#39;autres données qui pourraient être perdues lors d&#39;un rechargement. Pour ces applications, il est recommandé d&#39;afficher une invite de rechargement. Consultez la <a href="https://vite-pwa-org.netlify.app/guide/prompt-for-update.html" target="_blank" rel="noopener noreferrer">documentation du plugin Vite PWA</a> pour plus d&#39;informations sur la façon d&#39;implémenter une invite de rechargement au lieu d&#39;un rechargement automatique.</p></div><h3 id="plus-d-options-pwa" tabindex="-1"><a class="header-anchor" href="#plus-d-options-pwa"><span>Plus d&#39;options PWA</span></a></h3><p>Étant donné que Needle utilise le <a href="https://vite-pwa-org.netlify.app/" target="_blank" rel="noopener noreferrer">plugin Vite PWA</a> en coulisses, vous pouvez utiliser toutes les options et les hooks qu&#39;il fournit. Par exemple, vous pouvez fournir un manifeste partiel avec un titre d&#39;application ou une couleur de thème personnalisés :</p><div class="language-js" data-highlighter="shiki" data-ext="js" style="--shiki-light:#4c4f69;--shiki-dark:#c6d0f5;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#303446;"><pre class="shiki shiki-themes catppuccin-latte catppuccin-frappe vp-code"><code><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#CA9EE6;">const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;"> pwaOptions </span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">=</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;"> {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#949CBB;--shiki-dark-font-style:italic;">  // manifest options provided here will override the defaults</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#949CBB;--shiki-dark-font-style:italic;">  // les options du manifeste fournies ici remplaceront les valeurs par défaut</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">  manifest</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">:</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">    name</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6D189;"> &quot;My App&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">    short_name</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6D189;"> &quot;My App&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#C6D0F5;">    theme_color</span><span style="--shiki-light:#179299;--shiki-dark:#81C8BE;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6D189;"> &quot;#B2D464&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">  }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#949CBB;">};</span></span></code></pre></div><p>Pour des exigences complexes comme le cache partiel, les service workers personnalisés ou différentes stratégies de mise à jour, vous pouvez supprimer l&#39;option <code>{ pwa: pwaOptions }</code> de <code>needlePlugins</code> et ajouter la fonctionnalité PWA directement via le plugin Vite PWA.</p><h2 id="acc-der-needle-engine-et-aux-composants-depuis-du-javascript-externe" tabindex="-1"><a class="header-anchor" href="#acc-der-needle-engine-et-aux-composants-depuis-du-javascript-externe"><span>Accéder à Needle Engine et aux composants depuis du javascript externe</span></a></h2>`,28)),s("p",null,[e[13]||(e[13]=i("Le code que vous exposez est accessible depuis JavaScript après le bundling. Cela permet de créer des visualiseurs et d'autres applications où il y a une séparation entre les données connues au moment de l'édition et les données connues uniquement à l'exécution (par exemple, les fichiers chargés dynamiquement, le contenu généré par l'utilisateur). Pour accéder aux composants depuis du javascript ordinaire en dehors du moteur, veuillez vous référer à la section ")),t(n,{to:"/lang/fr/scripting.html#accessing-needle-engine-and-components-from-anywhere"},{default:a(()=>e[12]||(e[12]=[i("interopérabilité avec du javascript ordinaire")])),_:1})]),e[25]||(e[25]=s("h2",{id:"personnaliser-l-apparence-du-chargement",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#personnaliser-l-apparence-du-chargement"},[s("span",null,"Personnaliser l'apparence du chargement")])],-1)),s("p",null,[e[15]||(e[15]=i("Voir la section ")),e[16]||(e[16]=s("em",null,"Loading Display",-1)),e[17]||(e[17]=i(" dans la ")),t(n,{to:"/lang/fr/reference/needle-engine-attributes.html"},{default:a(()=>e[14]||(e[14]=[i("référence des composants Needle Engine")])),_:1})]),e[26]||(e[26]=l('<h3 id="styles-int-gr-s" tabindex="-1"><a class="header-anchor" href="#styles-int-gr-s"><span>Styles intégrés</span></a></h3><p>L&#39;apparence de chargement de needle-engine peut utiliser un thème clair (light) ou sombre (dark). Pour changer l&#39;apparence, utilisez l&#39;attribut <code>loading-style</code> sur le composant web <code>&lt;needle-engine&gt;</code>. Les options sont <code>light</code> (clair) et <code>dark</code> (sombre) (par défaut) :</p><p><code>&lt;needle-engine loading-style=&quot;light&quot;&gt;&lt;/needle-engine&gt;</code></p><h3 id="style-de-chargement-personnalis-fonctionnalit-pro" tabindex="-1"><a class="header-anchor" href="#style-de-chargement-personnalis-fonctionnalit-pro"><span>Style de chargement personnalisé — <em>Fonctionnalité PRO</em></span></a></h3>',4)),s("p",null,[e[19]||(e[19]=i("Veuillez consulter la section ")),e[20]||(e[20]=s("em",null,"Loading Display",-1)),e[21]||(e[21]=i(" dans la ")),t(n,{to:"/lang/fr/reference/needle-engine-attributes.html"},{default:a(()=>e[18]||(e[18]=[i("référence des composants Needle Engine")])),_:1})]),e[27]||(e[27]=s("p",null,[s("img",{src:p,alt:"custom loading"})],-1)),e[28]||(e[28]=s("p",null,"Page traduite automatiquement par l'IA",-1))])}const v=o(k,[["render",g]]),F=JSON.parse(`{"path":"/lang/fr/html.html","title":"Frameworks, Bundlers, HTML","lang":"fr-FR","frontmatter":{"title":"Frameworks, Bundlers, HTML","head":[["meta",{"name":"og:image","content":"https://engine.needle.tools/docs/.preview/frameworks, bundlers, html_fr.png"}],["meta",{"name":"og:description","content":"---\\nNeedle Engine est conçu comme un composant web.\\nCela signifie simplement installer @needle-tools/engine dans votre projet et inclure  n'importe où dans votre projet web."}]],"description":"---\\nNeedle Engine est conçu comme un composant web.\\nCela signifie simplement installer @needle-tools/engine dans votre projet et inclure  n'importe où dans votre projet web."},"headers":[{"level":2,"title":"Bundling et frontends web","slug":"bundling-et-frontends-web","link":"#bundling-et-frontends-web","children":[{"level":3,"title":"Vite, Vue, React, Svelte, React Three Fiber...","slug":"vite-vue-react-svelte-react-three-fiber...","link":"#vite-vue-react-svelte-react-three-fiber...","children":[]},{"level":3,"title":"Tree-shaking pour réduire la taille du bundle","slug":"tree-shaking-pour-r-duire-la-taille-du-bundle","link":"#tree-shaking-pour-r-duire-la-taille-du-bundle","children":[]}]},{"level":2,"title":"Créer une PWA","slug":"cr-er-une-pwa","link":"#cr-er-une-pwa","children":[{"level":3,"title":"Tester les PWAs","slug":"tester-les-pwas","link":"#tester-les-pwas","children":[]},{"level":3,"title":"Mettre à jour automatiquement les applications en cours d'exécution","slug":"mettre-jour-automatiquement-les-applications-en-cours-d-ex-cution","link":"#mettre-jour-automatiquement-les-applications-en-cours-d-ex-cution","children":[]},{"level":3,"title":"Plus d'options PWA","slug":"plus-d-options-pwa","link":"#plus-d-options-pwa","children":[]}]},{"level":2,"title":"Accéder à Needle Engine et aux composants depuis du javascript externe","slug":"acc-der-needle-engine-et-aux-composants-depuis-du-javascript-externe","link":"#acc-der-needle-engine-et-aux-composants-depuis-du-javascript-externe","children":[]},{"level":2,"title":"Personnaliser l'apparence du chargement","slug":"personnaliser-l-apparence-du-chargement","link":"#personnaliser-l-apparence-du-chargement","children":[{"level":3,"title":"Styles intégrés","slug":"styles-int-gr-s","link":"#styles-int-gr-s","children":[]},{"level":3,"title":"Style de chargement personnalisé — Fonctionnalité PRO","slug":"style-de-chargement-personnalis-fonctionnalit-pro","link":"#style-de-chargement-personnalis-fonctionnalit-pro","children":[]}]}],"git":{"updatedTime":1745319699000,"contributors":[{"name":"Marcel Wiessler","username":"","email":"marcel@gaisterhand.de","commits":1}],"changelog":[{"hash":"833ce0af31c32254139592f63afbfed4fac50b2a","time":1745319699000,"email":"marcel@gaisterhand.de","author":"Marcel Wiessler","message":"Language: add FR and HI"}]},"filePathRelative":"lang/fr/html.md"}`);export{v as comp,F as data};
