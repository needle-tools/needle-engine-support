---
title: å¸¸è§é—®é¢˜ (FAQ) ğŸ’¡
---

## å¦‚ä½•æ¿€æ´»æˆ‘çš„ Needle Engine è®¸å¯ï¼Ÿ

### åœ¨ Unity ä¸­æ¿€æ´»è®¸å¯

#### Needle Engine 4.x

è½¬åˆ° Project Settings/Needle å¹¶ç‚¹å‡»ç™»å½•æŒ‰é’®ã€‚æŒ‰ç…§æ­¥éª¤ç™»å½•åˆ°æ‚¨çš„ Needle accountã€‚
ä¹‹åï¼Œæ‚¨å°†åœ¨ Unity project settings window ä¸­çœ‹åˆ°æ‚¨çš„è´¦æˆ·ä¿¡æ¯ã€‚ä» dropdown ä¸­é€‰æ‹©å·²æˆæƒçš„å›¢é˜Ÿã€‚

#### Needle Engine 3.x

æ‰“å¼€ `Edit/Project Settings/Needle` ä»¥è·å– Needle Engine plugin settingsã€‚åœ¨çª—å£é¡¶éƒ¨ï¼Œæ‚¨ä¼šæ‰¾åˆ°è¾“å…¥è®¸å¯ä¿¡æ¯çš„å­—æ®µã€‚
- `Email` - è¾“å…¥æ‚¨è´­ä¹°è®¸å¯æ—¶ä½¿ç”¨çš„ç”µå­é‚®ä»¶
- `Invoice ID` - è¾“å…¥æ‚¨é€šè¿‡ç”µå­é‚®ä»¶æ”¶åˆ°çš„ä¸€ä¸ª invoice id

æ³¨æ„ï¼šæ‚¨å¯èƒ½éœ€è¦é‡æ–°å¯åŠ¨æœ¬åœ° webserver ä»¥åº”ç”¨è®¸å¯ã€‚

![unity license window](/imgs/unity-needle-engine-license.jpg)

### åœ¨ Blender ä¸­æ¿€æ´»è®¸å¯
æ‰“å¼€ `Addon Preferences/Needle Engine` ä»¥è·å– Needle Engine addon settings
- `Email` - è¾“å…¥æ‚¨è´­ä¹°è®¸å¯æ—¶ä½¿ç”¨çš„ç”µå­é‚®ä»¶
- `Invoice ID` - è¾“å…¥æ‚¨é€šè¿‡ç”µå­é‚®ä»¶æ”¶åˆ°çš„ä¸€ä¸ª invoice id

æ³¨æ„ï¼šæ‚¨å¯èƒ½éœ€è¦é‡æ–°å¯åŠ¨æœ¬åœ° webserver ä»¥åº”ç”¨è®¸å¯ã€‚

## æˆ‘çš„æœ¬åœ°ç½‘ç«™æ˜¾ç¤º SSL é”™è¯¯ï¼Œä¾‹å¦‚â€œæ‚¨çš„è¿æ¥ä¸æ˜¯ç§å¯†çš„â€

æ ¹æ®æ‚¨çš„æœ¬åœ°é…ç½®ï¼Œæ‚¨å¯èƒ½ä¼šåœ¨æµè§ˆå™¨ä¸­çœ‹åˆ°å…³äº SSL Security çš„è­¦å‘Šã€‚

è¿™æ˜¯å› ä¸ºå°½ç®¡è¿æ¥å·²åŠ å¯†ï¼Œä½†é»˜è®¤æƒ…å†µä¸‹æ²¡æœ‰æµè§ˆå™¨å¯ä»¥éªŒè¯çš„ SSL certificateã€‚
å¦‚æœå‘ç”Ÿè¿™ç§æƒ…å†µï¼šç‚¹å‡» `Advanced` å’Œ `Proceed to Site`ã€‚åœ¨ Safari ä¸­ï¼Œæ‚¨å¯èƒ½éœ€è¦åœ¨ä¹‹ååˆ·æ–°é¡µé¢ï¼Œå› ä¸ºå®ƒä¸ä¼šè‡ªåŠ¨ç»§ç»­ã€‚ç°åœ¨æ‚¨åº”è¯¥å¯ä»¥åœ¨æµè§ˆå™¨ä¸­çœ‹åˆ°æ‚¨çš„åœºæ™¯äº†ï¼

å¯¹äºåŒä¸€ä¸ªæœ¬åœ° serverï¼Œè¯¥å¯¹è¯æ¡†åº”è¯¥åªæ˜¾ç¤ºä¸€æ¬¡

::: tip
è¿æ¥æ˜¯å®‰å…¨çš„ï¼Œå› ä¸ºæˆ‘ä»¬å¼ºåˆ¶ä½¿ç”¨ HTTPS ä»¥ç¡®ä¿ WebXR å’Œå…¶ä»–ç°ä»£ web APIs å¯ä»¥å³æ—¶å·¥ä½œã€‚ä¸€äº›æµè§ˆå™¨ä»ç„¶ä¼šæŠ±æ€¨ SSL connectionï¼ˆåœ¨æ‚¨çš„æœ¬åœ° development server å’Œæœ¬åœ° website ä¹‹é—´ï¼‰æ— æ³•è‡ªåŠ¨ä¿¡ä»»ï¼Œå¹¶ä¸”æ‚¨éœ€è¦æ‰‹åŠ¨éªŒè¯æ‚¨ä¿¡ä»»è¯¥é¡µé¢ã€‚æ ¹æ®æµè§ˆå™¨å’Œç³»ç»Ÿè®¾ç½®ï¼ŒAutomatic Page Reload å’Œ Websocket connections ä¹Ÿå¯èƒ½ä¼šå—åˆ°å½±å“ã€‚

æœ‰å…³å¦‚ä½•è®¾ç½® self-signed certificate ä»¥è·å¾—æ›´æµç•… development experience çš„ä¿¡æ¯ï¼Œè¯·å‚é˜…[æµ‹è¯•æ–‡æ¡£](./testing.md)ã€‚
:::

![SLL warning on chrome](/videos/ssl-warning.gif)

## æˆ‘çš„æœ¬åœ°ç½‘ç«™ä¸€ç‰‡æ¼†é»‘

å¦‚æœå‘ç”Ÿè¿™ç§æƒ…å†µï¼Œé€šå¸¸æ˜¯åœ¨ engine code æˆ–æ‚¨çš„ code ä¸­å‡ºç°äº†å¼‚å¸¸ã€‚æ‰“å¼€ dev toolsï¼ˆåœ¨ Chrome ä¸­æŒ‰ <kbd>Ctrl + Shift + I</kbd> æˆ– <kbd>F12</kbd>ï¼‰å¹¶æ£€æŸ¥ Console ä¸­çš„é”™è¯¯ã€‚
åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œç‰¹åˆ«æ˜¯å½“æ‚¨åˆšåˆšæ›´æ–°äº† Needle Engine package version æ—¶ï¼Œå¯ä»¥é€šè¿‡åœæ­¢å¹¶é‡æ–°å¯åŠ¨æœ¬åœ° dev server æ¥è§£å†³ã€‚
ä¸ºæ­¤ï¼Œè¯·ç‚¹å‡» Editor å³ä¸‹è§’è¿è¡Œä¸­çš„è¿›åº¦æ¡ï¼Œç„¶åç‚¹å‡»å° <kbd>X</kbd> å–æ¶ˆæ­£åœ¨è¿è¡Œçš„ taskã€‚ç„¶åï¼Œåªéœ€å†æ¬¡æŒ‰ä¸‹ Playã€‚

## æˆ‘çš„ç‰©ä½“å¯¼å‡ºåå˜æˆç™½è‰²
è¿™é€šå¸¸åœ¨ä½¿ç”¨ custom shaders æˆ– materials æ—¶å‘ç”Ÿï¼Œå¹¶ä¸”å®ƒä»¬çš„ property names æ— æ³•å¹²å‡€åœ°è½¬æ¢ä¸º glTF export å·²çŸ¥çš„ property namesã€‚
æ‚¨å¯ä»¥ç¡®ä¿ä½¿ç”¨ glTF-compatible materials å’Œ shadersï¼Œæˆ–è€…å°† shaders æ ‡è®°ä¸ºâ€œcustomâ€ä»¥ç›´æ¥å¯¼å‡ºå®ƒä»¬ã€‚
- é˜…è¯»æ›´å¤šå…³äºæ¨èçš„ glTF workflowsï¼š<link>
- é˜…è¯»æ›´å¤šå…³äº custom shadersï¼š<link>

## Uncaught ReferenceError: NEEDLE_ENGINE_META is not defined / NEEDLE_USE_RAPIER is not defined

å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨ vite æˆ– next.jsï¼Œè¯·ç¡®ä¿å°† Needle Engine plugins æ·»åŠ åˆ°æ‚¨çš„ config ä¸­ã€‚
vite ç¤ºä¾‹ï¼š
```js
const { needlePlugins } = await import('@needle-tools/engine/plugins/vite/index.js');
plugins: [needlePlugins(command, needleConfig)]
```
next.js ç¤ºä¾‹ï¼š
```js
const { needleNext } = await import("@needle-tools/engine/plugins/next/index.js");
return needleNext({}, { modules: { webpack } });
```
æ‚¨ä¹Ÿå¯ä»¥åœ¨ä¾‹å¦‚æ‚¨çš„æ ¹ç›®å½• `index.html` ä¸­ï¼Œé€šè¿‡ script tag å£°æ˜ç¼ºå¤±çš„ variablesï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
```html
<script>
  var NEEDLE_ENGINE_META = {}
  var NEEDLE_USE_RAPIER = true;
</script>
```

## THREE.EXRLoader: provided file doesnt appear to be in OpenEXR format

è¯·ç¡®ä¿æ‚¨å·²å°† Lightmap Encoding è®¾ç½®ä¸º **Normal Quality**ã€‚
å‰å¾€ *Edit/Project Settings/Player* æ›´æ”¹è®¾ç½®ã€‚

![](/faq/lightmap_encoding.jpg)

## æˆ‘çš„ç½‘ç«™å˜å¾—å¤ªå¤§ / åŠ è½½ç¼“æ…¢ (MB æ•°è¿‡å¤š)

è¿™å¯èƒ½æœ‰å¾ˆå¤šåŸå› ï¼Œä½†ä¸€äº›å¸¸è§çš„åŸå› æ˜¯ï¼š
- textures è¿‡å¤šæˆ– textures è¿‡å¤§
- meshes çš„ vertices è¿‡å¤š
- meshes å…·æœ‰æ‚¨å®é™…ä¸éœ€è¦çš„ vertex attributesï¼ˆä¾‹å¦‚ï¼Œæœ‰ normals å’Œ tangents ä½†æ‚¨æœªä½¿ç”¨å®ƒä»¬ï¼‰
- objects è¢«ç¦ç”¨ä½†æœªè¢«å¿½ç•¥ - ç¦ç”¨çš„ objects ä¹Ÿä¼šè¢«å¯¼å‡ºï¼Œä»¥é˜²æ‚¨æƒ³åœ¨ runtime å¯ç”¨å®ƒä»¬ï¼å°†å…¶ Tag è®¾ç½®ä¸º `EditorOnly` ä»¥å®Œå…¨å¿½ç•¥ exportã€‚
- æ‚¨çš„ scene ä¸­æœ‰å¤šä¸ª ``GltfObject`` componentsï¼Œå¹¶ä¸”å®ƒä»¬éƒ½å¯ç”¨äº† ``EmbedSkybox``ï¼ˆæ‚¨éœ€è¦ä¸ºå¯¼å‡ºçš„æ¯ä¸ª scene åªåŒ…å«ä¸€ä¸ª skyboxï¼‰

å¦‚æœ loading time æœ¬èº«æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œæ‚¨å¯ä»¥**å°è¯•å°†æ‚¨çš„ content åˆ†å‰²æˆå¤šä¸ª glb files** å¹¶æŒ‰éœ€åŠ è½½å®ƒä»¬ï¼ˆè¿™å°±æ˜¯æˆ‘ä»¬åœ¨ website ä¸Šæ‰€åšçš„ï¼‰ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œæ‚¨å¯ä»¥å°† content æ”¾å…¥ Prefabs æˆ– Scenes ä¸­ï¼Œå¹¶ä»æ‚¨çš„ä»»ä½• scripts ä¸­å¼•ç”¨å®ƒä»¬ã€‚è¯·æŸ¥çœ‹[documentation ä¸­çš„ Scripting/Addressables](./scripting.md#assetreference-and-addressables)ã€‚

## æˆ‘çš„ UI æ²¡æœ‰æ¸²æŸ“ Text

- å¯¹äº Unityï¼šç¡®ä¿æ‚¨ä½¿ç”¨çš„æ˜¯ `UI/Legacy/Text` component è€Œ**ä¸æ˜¯** `TextMeshPro - Text` component

## æˆ‘çš„è„šæœ¬å¯¼å‡ºåä¸å·¥ä½œ

- æ‚¨ç°æœ‰çš„ C# code å°†*ä¸ä¼š*æŒ‰åŸæ · exportï¼Œæ‚¨å¿…é¡»ä¸ºå…¶ç¼–å†™åŒ¹é…çš„ typescript / javascriptã€‚
- Needle ä½¿ç”¨ typescript / javascript ä½œä¸º componentsï¼Œå¹¶ä¸ºå…¶ç”Ÿæˆ C# stubsã€‚
- å·²æœ‰åŒ¹é… JS çš„ Components å°†åœ¨ Inspector ä¸­æ˜¾ç¤ºã€‚

## æˆ‘çš„ lightmaps çœ‹èµ·æ¥ä¸åŒ / è¿‡äº®

ç¡®ä¿æ‚¨éµå¾ª[lightmaps æœ€ä½³å®è·µ](https://docs.needle.tools/lightmaps?utm_source=needle_docs)å¹¶é˜…è¯»[baked å’Œ non-baked objects æ··åˆä½¿ç”¨](https://github.com/needle-tools/needle-engine-support/blob/main/documentation/export.md#mixing-baked-and-non-baked-objects)

## æˆ‘çš„åœºæ™¯å¤ªäº® / ç…§æ˜çœ‹èµ·æ¥ä¸ Unity ä¸åŒ
ç¡®ä¿æ‚¨çš„ lights è®¾ç½®ä¸º "Baked" æˆ– "Realtime"ã€‚"Mixed" ç›®å‰ä¸æ”¯æŒã€‚

- è®¾ç½®ä¸º mixed çš„ Lights (å¸¦ lightmapping) åœ¨ three.js ä¸­ä¼šå¯¹ objects äº§ç”Ÿä¸¤æ¬¡å½±å“ï¼Œå› ä¸ºç›®å‰æ²¡æœ‰åŠæ³•ä» lighting ä¸­æ’é™¤ lightmapped objects
- Skybox åœ¨ ``Lighting/Environment`` ä¸­çš„ ``Intensity Multiplier`` å› å­ç›®å‰ä¸æ”¯æŒï¼Œåœ¨ Needle Engine ä¸­æ²¡æœ‰æ•ˆæœ
  ![image](https://user-images.githubusercontent.com/5083203/185429006-2a5cd6a1-8ea2-4a8e-87f8-33e3afd080ec.png)
- ç”±äº three.js çš„é™åˆ¶ï¼ŒLight shadow intensity ç›®å‰æ— æ³•æ›´æ”¹ã€‚

å¦è¯·å‚é˜…å…³äº[baked å’Œ non-baked objects æ··åˆä½¿ç”¨](https://github.com/needle-tools/needle-engine-support/blob/main/documentation/export.md#mixing-baked-and-non-baked-objects)çš„æ–‡æ¡£ã€‚

## æˆ‘çš„ skybox åˆ†è¾¨ç‡ä½ï¼Ÿå¦‚ä½•æ›´æ”¹æˆ‘çš„ skybox åˆ†è¾¨ç‡

- **å¦‚æœæ‚¨ä½¿ç”¨ custom cubemap**ï¼šæ‚¨å¯ä»¥è¦†ç›– skybox textureï¼ˆåˆ†é…ç»™æ‚¨çš„ cubemapï¼‰çš„ texture import settings

  ![image](https://user-images.githubusercontent.com/5083203/188179104-1e078cda-3397-4ebe-aaf9-7faa23ee4904.png)

- **å¦‚æœæ‚¨ä½¿ç”¨é»˜è®¤ skybox**ï¼šåœ¨æ‚¨çš„ scene ä¸­çš„ä»»ä½•ä½ç½®æ·»åŠ ä¸€ä¸ª ``SkyboxExportSettings`` component ä»¥è¦†ç›–é»˜è®¤åˆ†è¾¨ç‡

  ![image](https://user-images.githubusercontent.com/5083203/188171443-578380ab-2036-4d70-a8a7-f8cd9da9f603.png)

## æˆ‘çš„ Shadows ä¸å¯è§æˆ–è¢«æˆªæ–­

è¯·æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š

- æ‚¨çš„ light å·²å¯ç”¨ shadowsï¼ˆSoft Shadow æˆ– Hard Shadowï¼‰
- æ‚¨çš„ objects è®¾ç½®ä¸º "Cast Shadows: On"ï¼ˆå‚è§ MeshRenderer componentï¼‰
- å¯¹äº directional lightsï¼Œlight çš„ä½ç½®ç›®å‰å¾ˆé‡è¦ï¼Œå› ä¸º shadow camera å°†æ”¾ç½®åœ¨ light åœ¨ scene ä¸­çš„ä½ç½®ã€‚

## æˆ‘çš„é¢œè‰²çœ‹èµ·æ¥ä¸å¯¹

ç¡®ä¿æ‚¨çš„é¡¹ç›®è®¾ç½®ä¸º Linear colorspaceã€‚

![image](https://user-images.githubusercontent.com/5083203/191774978-66e9feb1-0551-4549-85d3-3e5b8021f162.png)

## æˆ‘æ­£åœ¨ä½¿ç”¨ networking å’Œ Glitchï¼Œå½“è¶…è¿‡ 30 äººåŒæ—¶è®¿é—® Glitch é¡µé¢æ—¶å®ƒä¸å·¥ä½œ

- åœ¨ Glitch ä¸Šéƒ¨ç½²æ˜¯ä¸€ç§å¿«é€Ÿ prototyping çš„æ–¹å¼ï¼Œç”šè‡³å¯èƒ½é€‚ç”¨äºä¸€äº›å°å‹ productionsã€‚é‚£é‡Œçš„å° server æ²¡æœ‰è¶³å¤Ÿçš„ power å’Œ bandwidth æ¥åœ¨ä¸€ä¸ª persistent session ä¸­ host è®¸å¤šäººã€‚
- æˆ‘ä»¬æ­£åœ¨ç ”ç©¶å…¶ä»–çš„ networking æƒ³æ³•ï¼Œä½†åœ¨æ­¤æœŸé—´ï¼Œæ‚¨å¯ä»¥å°† website host åœ¨å…¶ä»–åœ°æ–¹ï¼ˆæ”¯æŒ node.jsï¼‰æˆ–è€…ç®€å•åœ° remix å®ƒä»¥å°† load åˆ†å¸ƒåˆ°å¤šä¸ª serversã€‚æ‚¨ä¹Ÿå¯ä»¥å°† [networking backend package](https://www.npmjs.com/package/@needle-tools/needle-tiny-networking-ws) æœ¬èº« host åœ¨å…¶ä»–å¯ä»¥ scale çš„åœ°æ–¹ï¼Œä¾‹å¦‚ Google Cloudã€‚

## æˆ‘çš„ç½‘ç«™æ²¡æœ‰ AR/VR æŒ‰é’®

- ç¡®ä¿åœ¨æ‚¨çš„æ ¹ç›®å½• ``GltfObject`` å†…çš„æŸä¸ªåœ°æ–¹æ·»åŠ  `WebXR` componentã€‚
- å¯é€‰åœ°åœ¨æ‚¨çš„æ ¹ç›®å½• ``GltfObject`` æˆ–å…¶ child hierarchy ä¸­æ·»åŠ  `AR Session Root` componentï¼Œä»¥æŒ‡å®š WebXR çš„ placementã€scale å’Œ orientationã€‚
- å¯é€‰åœ°æ·»åŠ  `XR Rig` component æ¥æ§åˆ¶ users åœ¨ VR ä¸­çš„èµ·å§‹ä½ç½®ã€‚

## æˆ‘åœ¨ sub-scene ä¸­åˆ›å»ºäº†ä¸€ä¸ªæ–°è„šæœ¬ï¼Œä½†å®ƒä¸å·¥ä½œ
åœ¨ sub-scenes çš„ npmdefs ä¸­åˆ›å»ºæ–° scriptï¼ˆå³ä»æ ¹ export scene ä¸­çš„ script export çš„å‚è€ƒ sceneï¼‰æ—¶ï¼Œç›®å‰æ‚¨å¿…é¡»é‡æ–° export æ ¹ sceneã€‚è¿™æ˜¯å› ä¸ºè´Ÿè´£ registering new scripts çš„ code-gen ç›®å‰åªå¯¹åŒ…å« ``ExportInfo`` component çš„ scenes è¿è¡Œã€‚è¿™å°†åœ¨ future ä¿®å¤ã€‚

## æˆ‘çš„æœ¬åœ° server æ²¡æœ‰å¯åŠ¨ / æˆ‘çœ‹ä¸åˆ°ç½‘ç«™

æœ€å¯èƒ½çš„åŸå› æ˜¯ installation ä¸æ­£ç¡®ã€‚
æ£€æŸ¥ console å’Œ ``ExportInfo`` component æ˜¯å¦æœ‰ errors æˆ– warningsã€‚

å¦‚æœè¿™äº› warnings/errors æ²¡æœ‰å¸®åŠ©ï¼Œè¯·æŒ‰é¡ºåºå°è¯•ä»¥ä¸‹æ­¥éª¤ã€‚ç»™å®ƒä»¬ä¸€äº›æ—¶é—´å®Œæˆã€‚ä¸€æ—¦é—®é¢˜è§£å†³å°±åœæ­¢ã€‚æ£€æŸ¥ console æ˜¯å¦æœ‰ warnings æˆ– errorsã€‚

- ç¡®ä¿æ‚¨éµå¾ªäº†[Prerequisites](./getting-started/#prerequisites)ã€‚
- é€šè¿‡é€‰æ‹©æ‚¨çš„ ``ExportInfo`` component å¹¶ç‚¹å‡» `Install` æ¥å®‰è£…æ‚¨çš„é¡¹ç›®
- é€šè¿‡é€‰æ‹©æ‚¨çš„ ``ExportInfo`` componentï¼ŒæŒ‰ä½ Alt å¹¶ç‚¹å‡» `Clean Install` æ¥è¿è¡Œå¹²å‡€ installation
- å°è¯•åœ¨ command line tool ä¸­æ‰“å¼€æ‚¨çš„ web project directory å¹¶æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š
  - è¿è¡Œ ``npm install``ï¼Œç„¶åè¿è¡Œ ``npm run dev-host``
  - ç¡®ä¿æœ¬åœ° runtime package (``node_modules/@needle-tools/engine``) å’Œ three.js (``node_modules/three``) éƒ½å·² installã€‚
  - æ‚¨ä¹Ÿå¯ä»¥åœ¨è¿™äº› directories ä¸­è¿è¡Œ ``npm install``ã€‚

## C# component ç”Ÿæˆæ˜¯å¦ä¹Ÿé€‚ç”¨äºçº¯ javascriptï¼Ÿ
è™½ç„¶ä»æŠ€æœ¯ä¸Šè®²ï¼ŒC# components generation ä¹Ÿå¯ä»¥ä¸ vanilla javascript ä¸€èµ·è¿è¡Œï¼Œä½†æˆ‘ä»¬ä¸æ¨èå¹¶ä¸”ä¸å®Œå…¨æ”¯æŒå®ƒï¼Œå› ä¸º generator æ›´åƒæ˜¯çŒœæµ‹æˆ–è€…æ ¹æœ¬æ— æ³•çŸ¥é“è¦ä¸ºæ‚¨çš„ javascript class åˆ›å»ºå“ªç§ C# typeã€‚å¦‚æœæ‚¨çœŸçš„æƒ³è¿™æ ·åšï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªå¦‚ä½•ä» javascript ç”Ÿæˆ Unity Component çš„æœ€å°ç¤ºä¾‹ã€‚

```js
import { Behaviour } from "@needle-tools/engine";

export class MyScript extends Behaviour
{
    //@type float
    myField = 5;
}
```

## æˆ‘çš„ components/inspector ä¸­æ²¡æœ‰åƒâ€œGenerate Projectâ€è¿™æ ·çš„æŒ‰é’®

è¯·æ£€æŸ¥æ‚¨æ˜¯å¦ä¸å°å¿ƒå¤„äº Inspector çš„ ``Debug`` mode â€“ åˆ‡æ¢å› ``Normal``ï¼š
![20220824-025011-S2GQ-Unity_lKlT-needle](https://user-images.githubusercontent.com/2693840/186291615-56e7ebdb-1221-4326-813d-f88526fa126c.png)

## Toktx æ‰¾ä¸åˆ° / toktx æœªå®‰è£…

- Make sure to [download and install toktx](http://localhost:8080/docs/getting-started/.html#install-these-tools-for-production-builds)

- On Windows: Make sure you have added toktx to your system environment variables. You may need to restart your computer after adding it to refresh the environment variables. The default install location is ``C:\Program Files\KTX-Software\bin``

![image](/imgs/ktx-env-variable.webp)

## å®‰è£… web project èŠ±è´¹äº†å¾ˆé•¿æ—¶é—´ / ä»æœªå®Œæˆ / EONET: no such file or directory
- **Make sure to not create a project on a drive formatted as exFAT** because exFAT does not support symlinks, which is required for Needle Engine for Unity prior to version 3.x. You can check the formatting of your drives using the following steps:
  1. Open "System Information" (either windows key and type that or enter "msinfo32" in cmd)
  2. Select Components > Storage > Drives
  3. Select all (<kbd>Ctrl + A</kbd>) on the right side of the screen and copy that (<kbd>Ctrl + C</kbd>) and paste here (<kbd>Ctrl + V</kbd>)

## NPM install å¤±è´¥å¹¶ä¸”å‡ºç°å…³äº hard drive / IO çš„é”™è¯¯
Make sure your project is on a disk that is known to work with node.js. Main reason for failures is that the disk doesn't support symlinks (symbolic links / softlinks), which is a requirement for proper functioning of node.js.
<kbd>NTFS</kbd> formatting should always work. Known problematic file system formattings are <kbd>exFAT</kbd> and <kbd>FAT32</kbd>.

To check the format of your drives, you can:
1. Open "System Information" (either <kbd>Windows key</kbd> and type "System Information" or enter `msinfo32` in cmd <kbd>Windows + R</kbd>)
2. Select "Components > Storage > Drives"
3. There, you can see all drives and their formatting listed. Put your projects on a drive that is NTFS formatted.

## æˆ‘æ”¶åˆ°äº†è¯¸å¦‚ "Unexpected token `@`. Expected identifier, string literal, numeric literal or ..." çš„é”™è¯¯

Needle Engine ä½¿ç”¨ typescript decorators è¿›è¡Œ serializationã€‚
è¦è§£å†³æ­¤é”™è¯¯ï¼Œè¯·ç¡®ä¿åœ¨æ‚¨çš„ tsconfig.json ä¸­å¯ç”¨ ``experimentalDecorators``

## åœ¨ Mac OS ä¸Šè¿è¡Œ npm å‘½ä»¤æ—¶æ”¶åˆ°â€œfailed to load config ... vite.config.jsâ€é”™è¯¯

You're likely using an x86_64 version of Unity on an (ARM) Apple Silicon processor. Unity 2020.3 is only available for x86_64, later versions also have Apple Silicon versions.
Our Unity integration calling npm will thus do so from an x86_64 process, resulting in the x86_64 version of node and vite/esbuild being used. When you afterwards try to run npm commands in the same project from an Apple Silicon app (e.g. VS Code), npm will complain about mismatching architectures with a long error message.

To fix this, use an Apple Silicon version of Unity (2021.1 or later).

You can also temporarily fix it on 2020.3 by deleting the ``node_modules`` folder and running ``npm install`` again from VS Code. You'll have to delete ``node_modules`` again when you switch back to Unity.

## å¾ªç¯å¼•ç”¨é”™è¯¯ (Circular reference error)

This can happen when you have e.g. a ``SceneSwitcher`` (or any other component that loads a scene or asset) and the referenced Asset in Unity contains a ``GltfObject`` that has the same name as your original scene with the ``SceneSwitcher``. You can double check this in Unity if you get an error that says something like:

```
Failed to export â†‘ YourSceneName.glb
you seem to have objects with the same name referencing each other.
```

To fix this you can:
- Remove the ``GltfObject`` in the referenced Prefab or Scene
- Rename the GameObject with the component that loads the referenced scenes

If this doesn't fix the problem please ask [in our forum](https://forum.needle.tools/?utm_source=needle_docs&utm_content=content).

## æˆ‘çš„åœºæ™¯æ²¡æœ‰åŠ è½½ï¼Œå¹¶ä¸”æ§åˆ¶å°åŒ…å«ä¸€ä¸ªå…³äºâ€œcircular referencesâ€æˆ–â€œfailed to update active stateâ€çš„è­¦å‘Š
è¯·å‚é˜…[circular reference error](#circular-reference-error)éƒ¨åˆ†ã€‚

## æˆ‘çš„æœºå™¨æ˜¯å¦æ”¯æŒ WebGL 2ï¼Ÿ

Use a [detector like this one](https://get.webgl.org/webgl2/) to determine if your device supports WebGL 2, it also hints at what could be the cause of your problem, but generally make sure you have updated your browser and drivers. WebGL 1 is not supported.

#### å·²çŸ¥ä¼šå¯¼è‡´é—®é¢˜çš„è®¾å¤‡ï¼š
- Lenovo Thinkpad - T495

## æˆ‘æƒ³å°† Needle AI ä¸æˆ‘çš„æœ¬åœ° AI æ¨¡å‹ä¸€èµ·ä½¿ç”¨

If you want (or have to) run your AI locally you can use the Needle llms.txt files as context for your local AI (e.g. Ollama):

- [llms.txt](https://cloud.needle.tools/llms.txt)
- [llms-full.txt](https://cloud.needle.tools/llms-full.txt)

## è¿˜æœ‰é—®é¢˜ï¼Ÿ
[åœ¨æˆ‘ä»¬çš„è®ºå›æé—®](https://forum.needle.tools/?utm_source=needle_docs&utm_content=content)

<a href="https://discord.needle.tools" target="_blank"><img height=20 src="https://img.shields.io/discord/717429793926283276?color=5562ea&label=Discord" /></a>

---

é¡µé¢ç”± AI è‡ªåŠ¨ç¿»è¯‘